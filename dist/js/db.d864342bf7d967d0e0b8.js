(()=>{function e(){return new Promise((function(e,n){var r=indexedDB.open("offline-notes",1);r.onupgradeneeded=function(e){var n=e.target.result;n.objectStoreNames.contains("notes")||n.createObjectStore("notes",{keyPath:"id",autoIncrement:!0}).createIndex("synced","synced",{unique:!1})},r.onsuccess=function(n){var r=n.target.result;r.add=function(e,n){return new Promise((function(o,t){var u=r.transaction(e,"readwrite").objectStore(e).add(n);u.onsuccess=function(){return o(u.result)},u.onerror=function(){return t(u.error)}}))},r.getAll=function(e){return new Promise((function(n,o){var t=r.transaction(e,"readonly").objectStore(e).getAll();t.onsuccess=function(){return n(t.result)},t.onerror=function(){return o(t.error)}}))},r.getAllFromIndex=function(e,n,o){return new Promise((function(t,u){var c,i=r.transaction(e,"readonly").objectStore(e).index(n);(c=!0===o?i.getAll(IDBKeyRange.only(1)):!1===o?i.getAll(IDBKeyRange.only(0)):i.getAll(o)).onsuccess=function(){return t(c.result)},c.onerror=function(){return u(c.error)}}))},e(r)},r.onerror=function(e){n(e.target.error)}}))}"undefined"!=typeof self&&void 0!==self.ServiceWorkerGlobalScope?self.openDB=e:"undefined"!=typeof window&&(window.openDB=e)})();